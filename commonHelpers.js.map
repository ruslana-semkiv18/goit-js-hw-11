{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const key = \"44916232-ab67e58f2cd7c4a8ed03790be\";\nconst url = \"https://pixabay.com/api/\";\n\n\nexport function fetchGallery(q, loader) {\n  loader.style.display = \"block\"; \n  return fetch(`${url}?key=${key}&q=${q}&image_type=photo&orientation=horizontal&safesearch=true`)\n    .then((res) => {\n      if (!res.ok) {\n        throw new Error(res.status);\n      }      \n        return res.json();\n    });\n}\n\n","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\n\nexport function renderCard(img, containerCard) {\n\n  containerCard.innerHTML = img.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) =>\n      `<div class=\"card\">\n        <div class=\"card-img\">\n         <a href=\"${largeImageURL}\"><img src=\"${webformatURL}\" alt=\"${tags}\"></a>\n        </div>\n        <div class=\"card-body\">\n         <ul class=\"card-list\">\n          <li class=\"card-item\"><span>Likes</span>${likes}</li>\n          <li class=\"card-item\"><span>Views</span>${views}</li>\n          <li class=\"card-item\"><span>Comments</span>${comments}</li>\n          <li class=\"card-item\"><span>Downloads</span>${downloads}</li>\n         </ul>\n       </div>\n      </div>`).join(\"\");\n  \n\n    const lightbox = new SimpleLightbox('.card-img a', {\n        captions: true,\n        captionsData: \"alt\",\n        captionPosition: \"bottom\",\n        captionDelay: 250,\n    });\n\n      lightbox.refresh();\n\n}\n \n","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport { fetchGallery } from \"./js/pixabay-api\";\nimport { renderCard} from \"./js/render-functions\";\n\n\nconst form = document.querySelector(\".search-form\");\nconst containerCard = document.querySelector(\".card-container\");\nconst loader = document.querySelector(\".loader\");\n\nform.addEventListener(\"submit\", handlerSearch);\n\nfunction handlerSearch(evt) {\n  evt.preventDefault();\n  const form = evt.currentTarget;\n  const queryValue = form.elements.query.value.trim().toLowerCase(); \n  if (!queryValue) {\n    return;\n  }\n\n  containerCard.innerHTML = '';\n  \n  fetchGallery(queryValue, loader) \n    .then(data => {\n       if (data.hits.length === 0) {\n        throw new Error();\n    }\n     renderCard(data.hits, containerCard)\n    }) \n    .catch(onFetchError) \n    .finally(() => {\n      loader.style.display = \"none\";\n      form.reset();\n    }); \n}\n\n\nfunction onFetchError(error) {\n  iziToast.error({\n    message: 'Sorry, there are no images matching your search query. Please try again!',\n    messageColor: '#fff',\n    messageSize: '16px',\n    messageLineHeight: '1.5',\n    messageFontWeight: '400',\n    backgroundColor: '#ef4040',\n    close: true,\n    position: 'topRight',            \n    progressBarColor: '#b51b1b',\n   \n});\n}\n\n\n\n"],"names":["key","url","fetchGallery","q","loader","res","renderCard","img","containerCard","webformatURL","largeImageURL","tags","likes","views","comments","downloads","SimpleLightbox","form","handlerSearch","evt","queryValue","data","onFetchError","error","iziToast"],"mappings":"6vBAAA,MAAMA,EAAM,qCACNC,EAAM,2BAGL,SAASC,EAAaC,EAAGC,EAAQ,CACtC,OAAAA,EAAO,MAAM,QAAU,QAChB,MAAM,GAAGH,CAAG,QAAQD,CAAG,MAAMG,CAAC,0DAA0D,EAC5F,KAAME,GAAQ,CACb,GAAI,CAACA,EAAI,GACP,MAAM,IAAI,MAAMA,EAAI,MAAM,EAE1B,OAAOA,EAAI,MACnB,CAAK,CACL,CCRO,SAASC,EAAWC,EAAKC,EAAe,CAE7CA,EAAc,UAAYD,EAAI,IAAI,CAAC,CAAE,aAAAE,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,IACvG;AAAA;AAAA,oBAEcL,CAAa,eAAeD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA,oDAItBC,CAAK;AAAA,oDACLC,CAAK;AAAA,uDACFC,CAAQ;AAAA,wDACPC,CAAS;AAAA;AAAA;AAAA,aAGpD,EAAE,KAAK,EAAE,EAGD,IAAIC,EAAe,cAAe,CAC/C,SAAU,GACV,aAAc,MACd,gBAAiB,SACjB,aAAc,GACtB,CAAK,EAEU,QAAO,CAEtB,CC1BA,MAAMC,EAAO,SAAS,cAAc,cAAc,EAC5CT,EAAgB,SAAS,cAAc,iBAAiB,EACxDJ,EAAS,SAAS,cAAc,SAAS,EAE/Ca,EAAK,iBAAiB,SAAUC,CAAa,EAE7C,SAASA,EAAcC,EAAK,CAC1BA,EAAI,eAAc,EAClB,MAAMF,EAAOE,EAAI,cACXC,EAAaH,EAAK,SAAS,MAAM,MAAM,KAAI,EAAG,cAC/CG,IAILZ,EAAc,UAAY,GAE1BN,EAAakB,EAAYhB,CAAM,EAC5B,KAAKiB,GAAQ,CACX,GAAIA,EAAK,KAAK,SAAW,EACxB,MAAM,IAAI,MAEbf,EAAWe,EAAK,KAAMb,CAAa,CACxC,CAAK,EACA,MAAMc,CAAY,EAClB,QAAQ,IAAM,CACblB,EAAO,MAAM,QAAU,OACvBa,EAAK,MAAK,CAChB,CAAK,EACL,CAGA,SAASK,EAAaC,EAAO,CAC3BC,EAAS,MAAM,CACb,QAAS,2EACT,aAAc,OACd,YAAa,OACb,kBAAmB,MACnB,kBAAmB,MACnB,gBAAiB,UACjB,MAAO,GACP,SAAU,WACV,iBAAkB,SAEtB,CAAC,CACD"}