{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["\nimport iziToast from \"izitoast\";\n\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport SimpleLightbox from \"simplelightbox\";\n\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\n\n// key — твій унікальний ключ доступу до API.\n// q — слово для пошуку. Те, що буде вводити користувач.\n// image_type photo.\n// orientation horizontal.\n// safesearch  true.\n\nfunction fetchGallery(q) {\n  return fetch(`https://pixabay.com/api/?key=44916232-ab67e58f2cd7c4a8ed03790be&q=${q}&image_type=photo&orientation=horizontal&safesearch=true`).then((res) => {\n    if (!res.ok) {\n      throw new Error(res.status);\n    }\n    return res.json();\n  });\n}\n\nconst containerCard = document.querySelector(\".card-container\");\n\nconst form = document.querySelector(\".search-form\");\nform.addEventListener(\"submit\", handlerSearch);\nfunction handlerSearch(evt) {\n  evt.preventDefault();\n\n  const form = evt.currentTarget; // посилання на елемент форми\n  const queryValue = form.elements.query.value.toLowerCase(); // значення, яке написав користувач\n\n  fetchGallery(queryValue) // робимо запит на сервер та отримуємо відповідь\n    .then(renderCard) // запускаємо функцію, яка відмалює наші карточки\n    .catch(onFetchError) // якщо робиться запит на неіснуючого покемона (404) - викликається ця фукнція для обробки помилки\n    .finally(() => form.reset()); // після закінчення промісу ми очищуємо дані форми\n}\n\n\n\nfunction renderCard(img) {\n    containerCard.innerHTML = img.map(({ webformatUrl, largeImageURL, tags, likes, views, comments, downloads })=>\n        `<div class=\"card\">\n   <div class=\"card-img\">\n     <a href=\"${largeImageURL}\"><img src=\"${webformatUrl}\" alt=\"${tags}\"></a>\n   </div>\n   <div class=\"card-body\">\n     <ul class=\"list-group\">\n       <li><span>Likes</span>${likes}</li>\n       <li><span>Views</span>${views}</li>\n       <li><span>Comments</span>${comments}</li>\n       <li><span>Downloads</span>${downloads}</li>\n     </ul>\n   </div>\n</div>`).join(\"\");\n}\n\nfunction onFetchError(error) {\n\n      iziToast.error({\n        title: 'Error',\n        message: 'Sorry, there are no images matching your search query. Please try again!',\n      });\n}"],"names":["fetchGallery","q","res","containerCard","form","handlerSearch","evt","queryValue","renderCard","onFetchError","img","webformatUrl","largeImageURL","tags","likes","views","comments","downloads","error","iziToast"],"mappings":"svBAiBA,SAASA,EAAaC,EAAG,CACvB,OAAO,MAAM,qEAAqEA,CAAC,0DAA0D,EAAE,KAAMC,GAAQ,CAC3J,GAAI,CAACA,EAAI,GACP,MAAM,IAAI,MAAMA,EAAI,MAAM,EAE5B,OAAOA,EAAI,MACf,CAAG,CACH,CAEA,MAAMC,EAAgB,SAAS,cAAc,iBAAiB,EAExDC,EAAO,SAAS,cAAc,cAAc,EAClDA,EAAK,iBAAiB,SAAUC,CAAa,EAC7C,SAASA,EAAcC,EAAK,CAC1BA,EAAI,eAAc,EAElB,MAAMF,EAAOE,EAAI,cACXC,EAAaH,EAAK,SAAS,MAAM,MAAM,cAE7CJ,EAAaO,CAAU,EACpB,KAAKC,CAAU,EACf,MAAMC,CAAY,EAClB,QAAQ,IAAML,EAAK,MAAK,CAAE,CAC/B,CAIA,SAASI,EAAWE,EAAK,CACrBP,EAAc,UAAYO,EAAI,IAAI,CAAC,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,IACvG;AAAA;AAAA,gBAEQL,CAAa,eAAeD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA,+BAIvCC,CAAK;AAAA,+BACLC,CAAK;AAAA,kCACFC,CAAQ;AAAA,mCACPC,CAAS;AAAA;AAAA;AAAA,OAGrC,EAAE,KAAK,EAAE,CAChB,CAEA,SAASR,EAAaS,EAAO,CAEvBC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,0EACjB,CAAO,CACP"}