{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst key = \"44916232-ab67e58f2cd7c4a8ed03790be\";\nconst url = \"https://pixabay.com/api/\";\n\nconst containerCard = document.querySelector(\".card-container\");\nconst form = document.querySelector(\".search-form\");\n\nform.addEventListener(\"submit\", handlerSearch);\n\n\nfunction fetchGallery(q) {\n  return fetch(`${url}?key=${key}&q=${q}&image_type=photo&orientation=horizontal&safesearch=true`)\n    .then((res) => {\n      if (!res.ok) {\n        throw new Error(res.status);\n      }\n      return res.json();\n    });\n}\n\n\n\nfunction handlerSearch(evt) {\n  evt.preventDefault();\n\n  const form = evt.currentTarget;\n  const queryValue = form.elements.query.value.toLowerCase(); \n\n  fetchGallery(queryValue) \n    .then(data=>renderCard(data.hits)) \n    .catch(onFetchError) \n    .finally(() => form.reset()); \n}\n\n\n\nfunction renderCard(img) {\n  containerCard.innerHTML = img.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) =>\n      `<div class=\"card\">\n        <div class=\"card-img\">\n         <a href=\"${largeImageURL}\"><img src=\"${webformatURL}\" alt=\"${tags}\"></a>\n        </div>\n        <div class=\"card-body\">\n         <ul class=\"card-list\">\n          <li class=\"card-item\"><span>Likes</span>${likes}</li>\n          <li class=\"card-item\"><span>Views</span>${views}</li>\n          <li class=\"card-item\"><span>Comments</span>${comments}</li>\n          <li class=\"card-item\"><span>Downloads</span>${downloads}</li>\n         </ul>\n       </div>\n      </div>`).join(\"\");\n}\n\nfunction onFetchError(error) {\n  iziToast.error({\n    title: 'Error',\n    message: 'Illegal operation',\n});\n}\n"],"names":["key","url","containerCard","form","handlerSearch","fetchGallery","q","res","evt","queryValue","data","renderCard","onFetchError","img","webformatURL","largeImageURL","tags","likes","views","comments","downloads","error","iziToast"],"mappings":"svBAKA,MAAMA,EAAM,qCACNC,EAAM,2BAENC,EAAgB,SAAS,cAAc,iBAAiB,EACxDC,EAAO,SAAS,cAAc,cAAc,EAElDA,EAAK,iBAAiB,SAAUC,CAAa,EAG7C,SAASC,EAAaC,EAAG,CACvB,OAAO,MAAM,GAAGL,CAAG,QAAQD,CAAG,MAAMM,CAAC,0DAA0D,EAC5F,KAAMC,GAAQ,CACb,GAAI,CAACA,EAAI,GACP,MAAM,IAAI,MAAMA,EAAI,MAAM,EAE5B,OAAOA,EAAI,MACjB,CAAK,CACL,CAIA,SAASH,EAAcI,EAAK,CAC1BA,EAAI,eAAc,EAElB,MAAML,EAAOK,EAAI,cACXC,EAAaN,EAAK,SAAS,MAAM,MAAM,cAE7CE,EAAaI,CAAU,EACpB,KAAKC,GAAMC,EAAWD,EAAK,IAAI,CAAC,EAChC,MAAME,CAAY,EAClB,QAAQ,IAAMT,EAAK,MAAK,CAAE,CAC/B,CAIA,SAASQ,EAAWE,EAAK,CACvBX,EAAc,UAAYW,EAAI,IAAI,CAAC,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,IACvG;AAAA;AAAA,oBAEcL,CAAa,eAAeD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA,oDAItBC,CAAK;AAAA,oDACLC,CAAK;AAAA,uDACFC,CAAQ;AAAA,wDACPC,CAAS;AAAA;AAAA;AAAA,aAGpD,EAAE,KAAK,EAAE,CACtB,CAEA,SAASR,EAAaS,EAAO,CAC3BC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,mBACb,CAAC,CACD"}